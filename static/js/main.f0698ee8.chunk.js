(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,i){t.exports=i(24)},19:function(t,e,i){},22:function(t,e,i){},24:function(t,e,i){"use strict";i.r(e);var n=i(6),o=i.n(n),a=i(12),s=i.n(a),r=(i(19),i(1)),h=i(3),c=i(5),l=i(2),d=i(4),u=i(8),w=i(0),g=i(10),m=i(9),v=i(13),M=i.n(v),p=(i(21),function(){function t(e){var i=e.width,n=e.height,o=e.rows,a=e.cols;Object(r.a)(this,t),this.width=i,this.height=n,this.rows=o,this.cols=a,this.rowHeight=n/(o-1),this.colWidth=i/(a-1)}return Object(h.a)(t,[{key:"gridToSceneCoordinates",value:function(t){var e=t.row;return{x:t.col*this.colWidth-this.width/2,y:e*this.rowHeight-this.height/2}}},{key:"getDimensions",value:function(){return{width:this.width,height:this.height}}}]),t}()),f=function(){function t(e){var i=e.grid,n=e.margins,o=e.lineColor;Object(r.a)(this,t),this.BITMAP_PIXELS_PER_MM=10,this.DIMENSIONS={lineWidth:1,starPointRadius:2,starPointLocations:{9:[{row:2,col:2},{row:6,col:2},{row:4,col:4},{row:2,col:6},{row:6,col:6}],13:[{row:3,col:3},{row:9,col:3},{row:6,col:6},{row:3,col:9},{row:9,col:9}],19:[{row:3,col:3},{row:9,col:3},{row:15,col:3},{row:3,col:9},{row:9,col:9},{row:15,col:9},{row:3,col:15},{row:9,col:15},{row:15,col:15}]}},this.grid=i,this.margins=n,this.lineColor=o,this.cssLineColor="#".concat(this.lineColor.toString(16).padStart(6)),this.canvas=document.createElement("canvas");var a=this.grid.getDimensions(),s=a.width,h=a.height;this.canvas.width=(s+n.left+n.right)*this.BITMAP_PIXELS_PER_MM,this.canvas.height=(h+n.top+n.bottom)*this.BITMAP_PIXELS_PER_MM,this.ctx=this.canvas.getContext("2d"),this.ctx.translate(this.canvas.width/2,this.canvas.height/2)}return Object(h.a)(t,[{key:"makeLine",value:function(t,e,i,n){var o=this.ctx;o.beginPath(),o.strokeStyle=this.cssLineColor,o.lineWidth=this.DIMENSIONS.lineWidth*this.BITMAP_PIXELS_PER_MM,o.moveTo(t*this.BITMAP_PIXELS_PER_MM,e*this.BITMAP_PIXELS_PER_MM),o.lineTo(i*this.BITMAP_PIXELS_PER_MM,n*this.BITMAP_PIXELS_PER_MM),o.stroke()}},{key:"makeCircle",value:function(t){var e=t.x,i=t.y,n=t.radius,o=this.ctx;o.beginPath(),o.arc(e*this.BITMAP_PIXELS_PER_MM,i*this.BITMAP_PIXELS_PER_MM,n*this.BITMAP_PIXELS_PER_MM,0,2*Math.PI),o.fillStyle=this.cssLineColor,o.fill()}},{key:"makeTexture",value:function(){for(var t=new w.Texture(this.canvas),e=0;e<this.grid.cols;e++){var i=this.grid.gridToSceneCoordinates({row:0,col:e}),n=i.x,o=i.y,a=this.grid.gridToSceneCoordinates({row:this.grid.rows-1,col:e}),s=a.x,r=a.y;this.makeLine(n,o,s,r)}for(var h=0;h<this.grid.rows;h++){var c=this.grid.gridToSceneCoordinates({row:h,col:0}),l=(n=c.x,o=c.y,this.grid.gridToSceneCoordinates({row:h,col:this.grid.cols-1}));s=l.x,r=l.y;this.makeLine(n,o,s,r)}var d=this.DIMENSIONS.starPointLocations[this.grid.rows]||[],u=!0,g=!1,m=void 0;try{for(var v,M=d[Symbol.iterator]();!(u=(v=M.next()).done);u=!0){var p=v.value,f=p.row,P=p.col,S=this.grid.gridToSceneCoordinates({row:f,col:P}),I=S.x,b=S.y;this.makeCircle({x:I,y:b,radius:this.DIMENSIONS.starPointRadius})}}catch(E){g=!0,m=E}finally{try{u||null==M.return||M.return()}finally{if(g)throw m}}return t.needsUpdate=!0,t}}]),t}(),P=function(){function t(e){var i=e.rows,n=e.cols;Object(r.a)(this,t),this.DIMENSIONS={rowHeight:23.7,colWidth:22,margins:{top:13.95,left:14.1,bottom:13.95,right:14.1},thickness:38.1,starPointRadius:2},this.rows=i,this.cols=n,this.grid=new p({width:this.DIMENSIONS.colWidth*n,height:this.DIMENSIONS.rowHeight*i,rows:i,cols:n})}return Object(h.a)(t,[{key:"getDimensions",value:function(){var t=this.grid.getDimensions(),e=t.width,i=t.height,n=this.DIMENSIONS.margins;return{width:e+n.left+n.right,height:i+n.top+n.bottom,depth:this.DIMENSIONS.thickness}}},{key:"makeBoard",value:function(){var t=this.getDimensions(),e=t.width,i=t.height,n=t.depth,o=new w.BoxBufferGeometry(e,i,n);o.translate(0,0,-n/2),o.addGroup(24,6,6);var a=new w.MeshPhongMaterial({map:(new w.TextureLoader).load("/assets/textures/walnut.jpg"),normalMap:(new w.TextureLoader).load("/assets/textures/walnut_normal.jpg")}),s=new f({grid:this.grid,margins:this.DIMENSIONS.margins,lineColor:16501003}),r=new w.MeshBasicMaterial({map:s.makeTexture(),transparent:!0}),h=new w.MeshPhongMaterial({map:(new w.TextureLoader).load("/assets/textures/walnut.jpg"),normalMap:(new w.TextureLoader).load("/assets/textures/walnut_normal.jpg"),normalMapMode:w.ObjectSpaceNormalMap}),c=h;return new w.Mesh(o,[h,h,c,c,a,a,r])}},{key:"getSceneObjects",value:function(){return[this.makeBoard()]}},{key:"update",value:function(){}}]),t}(),S=function(){function t(e){var i=e.canvas;Object(r.a)(this,t);var n=new w.Scene,o=new w.PerspectiveCamera(60,1,.1,1e3),a=i.getContext("webgl2"),s=new w.WebGLRenderer({canvas:i,context:a,antialias:!0});s.setPixelRatio(window.devicePixelRatio);var h=new m.a(s),c=[new m.b(n,o)];c[c.length-1].renderToScreen=!0,c.map(h.addPass.bind(h)),this.composer=h,this.clock=new w.Clock,this.canvas=i,this.scene=n,this.camera=o,this.renderer=s;var l=new M.a(o,s.domElement),d=Math.PI/2;l.minPolarAngle=Math.PI/2-d,l.maxPolarAngle=Math.PI/2+d,l.maxDistance=500,l.zoomSpeed=.3,l.enablePan=!1,this.controls=l,this.board=new P({rows:19,cols:19});var u=new w.AmbientLight(16777215,.2);n.add(u);[[-100,-100,-100]].forEach(function(t){var e,i=new w.DirectionalLight(16777215,.3);(e=i.position).set.apply(e,Object(g.a)(t)),n.add(i)});var v=this.board.getDimensions(),p=v.width,f=v.height;this.camera.position.z=Math.max(p,f)/2/Math.tan(w.Math.degToRad(this.camera.fov/2)),n.add.apply(n,Object(g.a)(this.board.getSceneObjects()))}return Object(h.a)(t,[{key:"animate",value:function(t){this.controls.update();var e=t.width,i=t.height;e===this.lastWidth&&i===this.lastHeight||(this.composer.setSize(e,i),this.renderer.setSize(e,i),this.camera.aspect=e/i,this.camera.updateProjectionMatrix(),this.lastWidth=e,this.lastHeight=i),this.composer.render(this.scene,this.camera)}}]),t}(),I=function(t){function e(t){var i;return Object(r.a)(this,e),(i=Object(c.a)(this,Object(l.a)(e).call(this,t))).canvasRef=o.a.createRef(),i}return Object(d.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return o.a.createElement("canvas",{id:"main",ref:this.canvasRef})}},{key:"componentDidMount",value:function(){var t=this,e=new S({canvas:this.canvasRef.current});!function i(){t.animationFrameRequest=requestAnimationFrame(i),e.animate({width:t.props.width,height:t.props.height})}()}}]),e}(n.Component);i(22);window.THREE=w;var b=function(t){function e(t){var i;return Object(r.a)(this,e),(i=Object(c.a)(this,Object(l.a)(e).call(this,t))).state={width:1,height:1},i.boundUpdateDimensions=i.updateDimensions.bind(Object(u.a)(Object(u.a)(i))),i}return Object(d.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return o.a.createElement(I,{width:this.state.width,height:this.state.height})}},{key:"updateDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.boundUpdateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.boundUpdateDimensions)}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[14,2,1]]]);
//# sourceMappingURL=main.f0698ee8.chunk.js.map